name: Telegram Notification

on:
  push:
    branches: [ "main" ]  # trigger
  pull_request:
    branches: [ "main" ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          message: |
            📢 Новые изменения в ${{ github.repository }}!
            👤 Автор: ${{ github.actor }}
            🌿 Ветка: ${{ github.ref }}
            📝 Коммит: ${{ github.event.head_commit.message }}
            🔗 Ссылка: ${{ github.event.head_commit.url }}
